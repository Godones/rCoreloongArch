# 第六章

第六章带来了文件系统的实现，由于文件系统是在用户态实现，在接入内核之前都与具体的硬件无关，因此对其实现我们无需修改即可进行使用。在接入到内核的实现中，由于qemu模拟的loongarch平台没有模拟相关的virtio-block设备，因此需要使用其它块设备进行实验，这里选择是SATA设备，rcore的x86版本中有相关的库提供了很好的实现，本实验同样使用了这个库并对硬件相关的内容做了相应的修改。

如果读者有兴趣查看AHCI协议的实现，可阅读文章给出的链接，在后期本教程可能也会将详细的编写过程给出。本章设计的内容包括:

- PCI总线
- PCI设备探测
- STAT设备
- AHCI协议
- DMA

